**一、什么是跨域？**

跨域指的是浏览器不能执行其他网站的脚本。它是由浏览器的同源策略造成的，是浏览器对 JavaScript 施加的安全限制。

**同源**：协议+域名+端口 相同。

**同源策略**是一种约定，它是浏览器最核心也是最基本的安全功能，如果缺少了同源策略，浏览器很容易收到 XSS、CSRF 等攻击。

**同源策略限制的内容有：**

- Cookie、LocalStorage、IndexedDB 等存储的内容
- DOM 节点
- AJAX 请求发送后，结果被浏览器拦截了

但是有三个标签是允许跨域加载资源的：

- img src=XXX
- link href=XXX
- script src=XXX



**注意**

**第一：如果是协议和端口造成的跨域问题，“前台”是无能为力的。**

**第二：在跨域问题上，仅仅是通过“URL的首部”来识别，而不会根据域名对应的IP 地址是否相同来判断。“URL 的首部“可以理解为”协议、域名和端口必须匹配。**



**请求跨域了，请求是能发出去的。**

**跨域并不是请求发不出去，请求能发出去，服务端能收到请求并正常返回结果，只是结果被浏览器拦截了。**你可能会疑惑明明通过表单的方式可以发起跨域请求，为什么 Ajax 就不会？因为跨域是为了阻止用户读取到另一个域名下的内容，Ajax 可以获取相应，浏览器认为这不安全，所以拦截了相应。但是表单并不会获取新的内容，所以可以发起跨域请求。同时也说明了跨域并不能完全阻止 CSRF，因为请求毕竟是发出去了。



**二、跨域解决方案**

**1、jsonp**

- **jsonp 原理**

  **利用 <script> 标签没有跨域限制的漏洞，网页可以得到从其他来源动态产生的 JSON 数据。jsonp 请求一定需要对方的服务器做支持才可以。**

- **jsonp 和 ajax 对比**

  Jsonp 和 ajax 相同，都是客户端向服务端发送请求，从服务端获取数据的方式。但 ajax 属于同源策略，jsonp 属于非同源策略（跨域请求）。

- **Jsonp 优缺点**

  jsonp **优点是简单兼容性好**，可用于解决主流浏览器的跨域数据访问的问题。

  **缺点是仅支持 get 方法，具有局限性，不安全，可能会遭受 XSS 攻击。**

  **jsonp 都是 get 和异步请求，不存在其他的请求方式和同步请求。**

- **jsonp 的实现流程**

  

  